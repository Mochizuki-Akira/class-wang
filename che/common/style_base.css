/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   ğŸŒˆ åŸºç¡€ä¸»é¢˜
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
html,body{
  background:#f6f8fb;
  color:#0f172a;
}
body{
  margin:0;
  line-height:1.8;
  font-family:"Hiragino Kaku Gothic ProN","Noto Sans JP","Noto Sans CJK JP",
               system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}

/* Sticky Header */
header.site{
  position:sticky;
  top:0;
  z-index:10;
  background:#fff;
  border-bottom:1px solid #e2e8f0;
  box-shadow:0 2px 10px rgba(15,23,42,.04);
  padding:10px 24px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}

.btn{
  appearance:none;
  border:1px solid #e2e8f0;
  background:#fff;
  color:#0f172a;
  padding:8px 12px;
  border-radius:10px;
  cursor:pointer;
  font-weight:600;
}
.btn-primary{
  background:#2563eb;
  color:#fff;
  border:none;
}

/* ======================================================================================
   ğŸ‘©â€ğŸ« æ•™å¸ˆ / å­¦ç”Ÿæ¨¡å¼ï¼ˆå±å¹•ç”¨ï¼‰
====================================================================================== */

/* å­¦ç”Ÿæ¨¡å¼ï¼šé»˜è®¤ */
.teacher-only{display:none;}
.student-only{display:block;}

/* å­¦ç”Ÿæ¨¡å¼ï¼šç¦æ­¢å¤åˆ¶ï¼ˆå±å¹•ï¼‰ */
body:not(.teacher-mode){
  -webkit-user-select:none;
  -moz-user-select:none;
  -ms-user-select:none;
  user-select:none;
}
body:not(.teacher-mode) img{
  -webkit-user-drag:none;
  pointer-events:none;
}

/* æ•™å¸ˆæ¨¡å¼ï¼šå…è®¸é€‰æ‹© */
body.teacher-mode{
  -webkit-user-select:text;
  user-select:text;
  pointer-events:auto;
}

/* ======================================================================================
   ğŸ–¨ æ‰“å°ä¸“ç”¨æ°´å°ï¼ˆChrome + Safari å®Œå…¨å…¼å®¹ï¼‰
====================================================================================== */

/* é»˜è®¤ä¸æ˜¾ç¤ºæ°´å°ï¼ˆå±å¹• */
.print-watermark{
  display:none;
}

/* æ‰“å°æ—¶å‡ºç°ï¼ˆçœŸå®å…ƒç´ ï¼Œä¸ç”¨ä¼ªå…ƒç´ ï¼ŒSafari æœ€ç¨³ï¼‰ */
@media print{
  .print-watermark{
    display:block !important;
    position:fixed !important;
    top:50% !important;
    left:50% !important;
    transform:translate(-50%,-50%) rotate(-30deg) !important;
    font-size:72px !important;
    font-weight:900 !important;
    letter-spacing:6px !important;
    color:rgba(0,0,0,0.10) !important;
    white-space:nowrap !important;
    pointer-events:none !important;
    z-index:999999 !important;
  }
}

/* ======================================================================================
   ğŸ–¨ æ‰“å°ä¼˜åŒ–ï¼ˆåˆ†é¡µã€éšè—ã€å¸ƒå±€ï¼‰
====================================================================================== */
@media print{
  
  /* éšè—é¡¶éƒ¨å¯¼èˆª */
  header.site{
    display:none !important;
  }

  /* é»˜è®¤éšè—æ•™å¸ˆå†…å®¹ï¼ˆé™¤éæ•™å¸ˆæ¨¡å¼ï¼‰ */
  body.print-student .teacher-only{
    display:none !important;
    visibility:hidden !important;
  }

  /* æ•™å¸ˆæ¨¡å¼æ‰“å°ä¿æŒæ•™å¸ˆå†…å®¹å¯è§ */
  body.print-teacher .teacher-only{
    display:block !important;
    visibility:visible !important;
  }

  /* ç‰ˆé¢æ§åˆ¶ */
  body{background:#fff;}
  .page-break-before{break-before:page;page-break-before:always;}
  .page-break-after{break-after:page;page-break-after:always;}
  .keep-together{break-inside:avoid;page-break-inside:avoid;}

  h1,h2,h3{break-after:avoid-page;}
  table,figure,img{
    break-inside:avoid;
    page-break-inside:avoid;
  }
}

/* ======================================================================================
   ğŸ”™ å…¨å±€å¯¼èˆªæŒ‰é’®ï¼ˆå¯é€‰ï¼‰
====================================================================================== */
#global-nav-buttons{
  position:fixed;
  top:20px;
  right:20px;
  display:flex;
  gap:10px;
  z-index:99999;
}
.nav-btn{
  padding:6px 12px;
  font-size:14px;
  background:#2563eb;
  color:white;
  border:none;
  border-radius:6px;
  cursor:pointer;
  font-weight:600;
}
.nav-btn:hover{background:#1e3ea8;}

@media print{
  #global-nav-buttons{
    display:none !important;
  }
}
