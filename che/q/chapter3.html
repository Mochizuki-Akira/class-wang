<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ç¬¬3ç«  åŒ–å­¦åå¿œã¨ç†±ãƒ»å…‰ãƒ»å¹³è¡¡</title>
  <style>
    body { font-family: sans-serif; line-height: 1.6; padding: 20px; background: #f8f8f8; }
    h1, h2 { color: #003366; }
    .section { background: #fff; padding: 15px; margin-bottom: 20px; border-radius: 8px; box-shadow: 0 0 5px #ccc; }
    .question { margin: 10px 0; }
    .options label { margin-right: 10px; }
    .result { display: inline-block; margin-left: 10px; font-weight: bold; }
    button { margin-top: 20px; padding: 10px 20px; font-size: 16px; }
    #codeArea { margin-top: 20px; font-size: 18px; }
  </style>
</head>
<body>
  <h1>ç¬¬3ç«  åŒ–å­¦åå¿œã¨ç†±ãƒ»å…‰ãƒ»å¹³è¡¡</h1>

  <form id="quizForm">
    <div class="section">
      <h2>åŒ–å­¦åå¿œã¨ç†±ãƒ»å…‰</h2>
      <script>
        const thermoQuestions = [6,1,3,2,5, 3,4,5,3,4, 6,2];
        for (let i = 0; i < thermoQuestions.length; i++) {
          const qn = i + 1;
          document.write(`<div class="question">å•${qn}ï¼š<span class="options">`);
          for (let j = 1; j <= 6; j++) {
            document.write(`<label><input type="radio" name="t${qn}" value="${j}">${j}</label>`);
          }
          document.write(`</span><span class="result" id="r-t${qn}"></span></div>`);
        }
      </script>
    </div>

    <div class="section">
      <h2>åå¿œé€Ÿåº¦ãƒ»åŒ–å­¦å¹³è¡¡</h2>
      <script>
        const balanceQuestions = [3,1,5,3,1, 6,5,4,3,4, 2,2,6];
        for (let i = 0; i < balanceQuestions.length; i++) {
          const qn = i + 13;
          document.write(`<div class="question">å•${qn}ï¼š<span class="options">`);
          for (let j = 1; j <= 6; j++) {
            document.write(`<label><input type="radio" name="b${qn}" value="${j}">${j}</label>`);
          }
          document.write(`</span><span class="result" id="r-b${qn}"></span></div>`);
        }
      </script>
    </div>

    <button type="submit">ç­”ãˆåˆã‚ã›</button>
  </form>

  <div id="codeArea">
  å•é¡Œç¢ºèªã‚³ãƒ¼ãƒ‰ï¼š<code id="resultCode">ï¼ˆã¾ã ç”Ÿæˆã•ã‚Œã¦ã„ã¾ã›ã‚“ï¼‰</code>
  <button id="copyBtn" style="margin-left: 10px;">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
</div>

  <script>
    const answers = {};
    const thermo = [6,1,3,2,5, 3,4,5,3,4, 6,2];
    const balance = [3,1,5,3,1, 6,5,4,3,4, 2,2,6];
    thermo.forEach((val, i) => answers[`t${i+1}`] = val);
    balance.forEach((val, i) => answers[`b${i+13}`] = val);

    document.getElementById('quizForm').addEventListener('submit', function (e) {
      e.preventDefault();
      let binaryString = '';
      for (const key in answers) {
        const selected = document.querySelector(`input[name="${key}"]:checked`);
        const result = document.getElementById(`r-${key}`);
        if (selected) {
          if (parseInt(selected.value) === answers[key]) {
            result.textContent = 'âœ…';
            result.style.color = 'green';
            binaryString += '1';
          } else {
            result.textContent = 'âŒ';
            result.style.color = 'red';
            binaryString += '0';
          }
        } else {
          result.textContent = 'æœªé¸æŠ';
          result.style.color = 'gray';
          binaryString += '0';
        }
      }
      const encodedBinary = '1' + binaryString;
      const decimalCode = BigInt('0b' + encodedBinary).toString();
      document.getElementById('resultCode').textContent = decimalCode;
    });
    document.getElementById('copyBtn').addEventListener('click', function () {
  const code = document.getElementById('resultCode').textContent;
  if (code.includes('ç”Ÿæˆã•ã‚Œã¦ã„ã¾ã›ã‚“')) {
    alert('ã¾ã ã‚³ãƒ¼ãƒ‰ãŒç”Ÿæˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚');
    return;
  }

  const fullText = 'å®¿é¡Œã‚³ãƒ¼ãƒ‰ï¼š' + code;
  navigator.clipboard.writeText(fullText).then(() => {
    alert('ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼\n\n' + fullText);
  }).catch(err => {
    alert('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + err);
  });
});
  </script>
</body>
</html>
