<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>é¸æŠå•é¡Œãƒã‚§ãƒƒã‚¯ï¼ˆé¸æŠå¼+ã‚³ãƒ¼ãƒ‰ç”Ÿæˆï¼‰</title>
  <style>
    body { font-family: sans-serif; line-height: 1.6; padding: 20px; background: #f8f8f8; }
    h2 { color: #003366; border-bottom: 2px solid #ccc; padding-bottom: 4px; }
    .section { background: #fff; padding: 15px; margin-bottom: 20px; border-radius: 8px; box-shadow: 0 0 5px #ccc; }
    .question { margin: 10px 0; }
    .options label { margin-right: 10px; }
    .result { display: inline-block; margin-left: 10px; font-weight: bold; }
    button { margin-top: 20px; padding: 10px 20px; font-size: 16px; }
    #codeArea { margin-top: 20px; font-size: 18px; }
  </style>
</head>
<body>

  <h1>é¸æŠå•é¡Œãƒã‚§ãƒƒã‚¯ã‚·ã‚¹ãƒ†ãƒ ï¼ˆã‚³ãƒ¼ãƒ‰ä»˜ãï¼‰</h1>

  <form id="quizForm">
    <div class="section">
      <h2>çŠ¶æ…‹ã®å¤‰åŒ–</h2>
      <div class="question">
        å•1ï¼š
        <span class="options">
          <label><input type="radio" name="s1" value="1">1</label>
          <label><input type="radio" name="s1" value="2">2</label>
          <label><input type="radio" name="s1" value="3">3</label>
          <label><input type="radio" name="s1" value="4">4</label>
          <label><input type="radio" name="s1" value="5">5</label>
          <label><input type="radio" name="s1" value="6">6</label>
        </span>
        <span class="result" id="r-s1"></span>
      </div>
    </div>

    <div class="section">
      <h2>å›ºä½“ã®æ§‹é€ </h2>
      <script>
        for (let i = 1; i <= 5; i++) {
          document.write(`<div class="question">å•${i}ï¼š<span class="options">`);
          for (let j = 1; j <= 6; j++) {
            document.write(`<label><input type="radio" name="k${i}" value="${j}">${j}</label>`);
          }
          document.write(`</span><span class="result" id="r-k${i}"></span></div>`);
        }
      </script>
    </div>

    <div class="section">
      <h2>æ°—ä½“ã®æ€§è³ª</h2>
      <script>
        for (let i = 1; i <= 15; i++) {
          document.write(`<div class="question">å•${i}ï¼š<span class="options">`);
          for (let j = 1; j <= 6; j++) {
            document.write(`<label><input type="radio" name="g${i}" value="${j}">${j}</label>`);
          }
          document.write(`</span><span class="result" id="r-g${i}"></span></div>`);
        }
      </script>
    </div>

    <div class="section">
      <h2>æº¶æ¶²ã®æ€§è³ª</h2>
      <script>
        for (let i = 1; i <= 8; i++) {
          document.write(`<div class="question">å•${i}ï¼š<span class="options">`);
          for (let j = 1; j <= 6; j++) {
            document.write(`<label><input type="radio" name="y${i}" value="${j}">${j}</label>`);
          }
          document.write(`</span><span class="result" id="r-y${i}"></span></div>`);
        }
      </script>
    </div>

    <button type="submit">ç­”ãˆåˆã‚ã›</button>
  </form>

  <div id="codeArea">
  å•é¡Œç¢ºèªã‚³ãƒ¼ãƒ‰ï¼š<code id="resultCode">ï¼ˆã¾ã ç”Ÿæˆã•ã‚Œã¦ã„ã¾ã›ã‚“ï¼‰</code>
  <button id="copyBtn" style="margin-left: 10px;">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
</div>

  <script>
    const answers = {
      s1: 2,
      k1: 4, k2: 4, k3: 6, k4: 1, k5: 2,
      g1: 3, g2: 4, g3: 5, g4: 5, g5: 2,
      g6: 4, g7: 3, g8: 2, g9: 6, g10: 4,
      g11: 5, g12: 4, g13: 6, g14: 3, g15: 1,
      y1: 5, y2: 5, y3: 3, y4: 4, y5: 1,
      y6: 4, y7: 3, y8: 4
    };

    document.getElementById('quizForm').addEventListener('submit', function (e) {
      e.preventDefault();
      let binaryString = '';
      for (const key in answers) {
        const selected = document.querySelector(`input[name="${key}"]:checked`);
        const result = document.getElementById(`r-${key}`);
        if (selected) {
          if (parseInt(selected.value) === answers[key]) {
            result.textContent = 'âœ…';
            result.style.color = 'green';
            binaryString += '1';
          } else {
            result.textContent = 'âŒ';
            result.style.color = 'red';
            binaryString += '0';
          }
        } else {
          result.textContent = 'æœªé¸æŠ';
          result.style.color = 'gray';
          binaryString += '0';
        }
      }

      // åœ¨å‰é¢åŠ  '1' ä½œä¸ºè¡¥ä½ï¼Œé˜²æ­¢å‰å¯¼0ä¸¢å¤±
      const encodedBinary = '1' + binaryString;
      const decimalCode = BigInt('0b' + encodedBinary).toString();
      document.getElementById('resultCode').textContent = decimalCode;
    });
    document.getElementById('copyBtn').addEventListener('click', function () {
  const code = document.getElementById('resultCode').textContent;
  if (code.includes('ç”Ÿæˆã•ã‚Œã¦ã„ã¾ã›ã‚“')) {
    alert('ã¾ã ã‚³ãƒ¼ãƒ‰ãŒç”Ÿæˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚');
    return;
  }

  navigator.clipboard.writeText(code).then(() => {
    alert('ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼');
  }).catch(err => {
    alert('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + err);
  });
});
  </script>

</body>
</html>
